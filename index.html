<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Azaan‚Äôs Album Viewer</title>
  <style>
    :root {
      --pink:#ff80a1; --pink-2:#ffb6c1; --sky:#6ec6ff; --sky-2:#4daae0; 
      --sun:#ffd966; --sun-2:#ffb84d; --shadow:0 6px 15px rgba(0,0,0,.15);
    }
    * { box-sizing:border-box; margin:0; padding:0; }
    body {
      font-family:"Poppins", Arial, sans-serif;
      background:linear-gradient(135deg,#ffe6f0,#e6f7ff);
      color:#444; display:flex; flex-direction:column; align-items:center;
      overflow-x:hidden;
    }
    header {
      width:100%; padding:16px; text-align:center;
      background:var(--pink-2); color:#fff;
      font-size:clamp(1.2rem, 4vw, 2rem); font-weight:800;
      border-bottom:5px solid var(--pink);
      box-shadow:0 4px 10px rgba(0,0,0,.1);
    }

    /* Year slider */
    .year-slider {
      display:flex; gap:10px; overflow-x:auto;
      padding:12px; width:100%;
      background:#fff; border-bottom:3px solid var(--pink);
      scroll-behavior:smooth;
    }
    .year-slider::-webkit-scrollbar {height:0;}
    .year {
      flex:0 0 auto;
      background:var(--sky); color:#fff;
      padding:10px 14px; text-align:center;
      border-radius:14px; font-weight:700;
      cursor:pointer; transition:.25s; box-shadow:var(--shadow);
      font-size:clamp(0.8rem, 2.5vw, 1rem);
    }
    .year:hover {background:var(--sky-2); transform:scale(1.05);}
    .year.active {background:var(--pink);}

    /* Months grid */
    .wrap {width:100%; max-width:1100px; padding:16px;}
    .months {
      display:grid; grid-template-columns:repeat(auto-fit,minmax(110px,1fr));
      gap:12px;
    }
    .month {
      background:var(--sun); border:none;
      border-radius:14px; padding:12px;
      font-weight:700; text-align:center;
      cursor:pointer; box-shadow:var(--shadow); transition:.2s;
      font-size:clamp(0.85rem, 2.5vw, 1rem);
    }
    .month:hover {transform:scale(1.04); background:var(--sun-2);}
    .month.disabled {opacity:.5; cursor:not-allowed; text-decoration:line-through;}

    /* Viewer controls */
    .viewer-bar {
      display:flex; flex-wrap:wrap;
      align-items:center; justify-content:space-between;
      gap:10px; margin:14px 0;
      font-size:clamp(0.9rem, 2.5vw, 1rem);
    }
    .btn {
      padding:8px 14px; border-radius:20px;
      background:var(--sky); color:#fff; font-weight:700;
      text-decoration:none; box-shadow:var(--shadow);
      border:none; cursor:pointer;
      font-size:clamp(0.85rem, 2.5vw, 1rem);
    }
    .btn:hover {background:var(--sky-2);}

    /* Iframe viewer */
    .iframe-wrap {position:relative; width:100%;}
    iframe {
      width:100%; height:75vh;
      border:4px dashed var(--pink); border-radius:16px;
      background:#fff; box-shadow:var(--shadow);
      display:block; overflow:hidden;
    }
    .spinner {
      position:absolute; inset:0; display:none;
      align-items:center; justify-content:center;
      backdrop-filter:blur(2px);
    }
    .spinner.show {display:flex;}
    .spinner .dot {
      width:12px; height:12px; margin:6px;
      border-radius:50%; background:var(--pink);
      animation:bounce .9s infinite alternate;
    }
    .spinner .dot:nth-child(2){background:var(--sky); animation-delay:.15s;}
    .spinner .dot:nth-child(3){background:var(--sun); animation-delay:.3s;}
    @keyframes bounce {to{transform:translateY(-12px);}}

    footer {
      margin:18px; color:#666;
      font-size:clamp(0.8rem, 2vw, 1rem);
    }

    /* Floating shapes */
    .shape {
      position:fixed; border-radius:50%; opacity:.25;
      animation:float 8s infinite ease-in-out; pointer-events:none;
    }
    .circle1{width:90px;height:90px;top:10%;left:5%;background:var(--pink);}
    .circle2{width:70px;height:70px;bottom:15%;right:10%;background:var(--sky);}
    .circle3{width:50px;height:50px;top:60%;left:20%;background:var(--sun);}
    @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-18px)}}

    /* Responsive tweaks */
    @media (max-width:768px){
      .viewer-bar{flex-direction:column; align-items:flex-start;}
      iframe{height:65vh;}
    }
    @media (max-width:480px){
      .months{grid-template-columns:repeat(auto-fit,minmax(90px,1fr));}
      iframe{height:60vh;}
    }
  </style>
</head>
<body>
  <header>üì∏ Azaan‚Äôs Memory Album üåà</header>

  <div class="year-slider" id="yearSlider"></div>

  <div class="wrap">
    <div class="months" id="months"></div>

    <div class="viewer-bar">
      <div>üóÇÔ∏è <strong id="crumb">Pick a year & month</strong></div>
      <a id="openInDrive" class="btn" href="#" target="_blank" rel="noopener">Open in Drive ‚Üó</a>
    </div>

    <div class="iframe-wrap">
      <div class="spinner" id="spinner"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div>
      <iframe id="viewer" title="Google Drive Folder Preview"></iframe>
    </div>
  </div>

  <footer>Made with ‚ù§Ô∏è for Azaan</footer>
  <div class="shape circle1"></div><div class="shape circle2"></div><div class="shape circle3"></div>

  <script>
    const START_YEAR = 2025, YEARS_COUNT = 18;
    const MONTHS = ["January","February","March","April","May","June","July","August","September","October","November","December"];
    const driveFolders = {
      2025: { "August": "https://drive.google.com/embeddedfolderview?id=1vmzdhhb7g8wjpJ17khcH4racnfNgVj1r#grid" }
    };
    const yearSlider=document.getElementById('yearSlider'), monthsEl=document.getElementById('months'),
          viewer=document.getElementById('viewer'), crumb=document.getElementById('crumb'),
          openInDrive=document.getElementById('openInDrive');
    function parseDriveId(link){const m=String(link).match(/[\w-]{25,}/); return m?m[0]:null;}
    function embedUrlForFolder(id){return `https://drive.google.com/embeddedfolderview?id=${id}#grid`;}
    function driveFolderLink(id){return `https://drive.google.com/drive/folders/${id}`;}
    function showSpinner(on){document.getElementById('spinner').classList.toggle('show',!!on);}
    for(let i=0;i<YEARS_COUNT;i++){const y=START_YEAR+i;const b=document.createElement('div');
      b.className='year';b.textContent=`Azaan‚Äôs ${y}`;b.onclick=()=>selectYear(y,b);yearSlider.appendChild(b);}
    function selectYear(y,el){document.querySelectorAll('.year').forEach(x=>x.classList.remove('active'));
      el.classList.add('active'); buildMonths(y);}
    function buildMonths(y){monthsEl.innerHTML=''; const list=(y===2025)?MONTHS.slice(7):MONTHS;
      list.forEach(m=>{const has=!!(driveFolders[y]&&driveFolders[y][m]);const b=document.createElement('button');
        b.className='month'+(has?'':' disabled');b.textContent=m;b.disabled=!has;
        if(has) b.onclick=()=>loadFolder(y,m); monthsEl.appendChild(b);});}
    function loadFolder(y,m){const raw=driveFolders[y]&&driveFolders[y][m], id=parseDriveId(raw);
      if(!id){alert(`‚ö†Ô∏è No folder set for ${m} ${y}`); return;}
      crumb.textContent=`${y} ‚Ä∫ ${m}`; openInDrive.href=driveFolderLink(id);
      showSpinner(true); viewer.src=embedUrlForFolder(id);}
    viewer.addEventListener('load',()=>showSpinner(false));
    window.addEventListener('DOMContentLoaded',()=>{const first=document.querySelector('.year'); if(first) first.click();});
  </script>
</body>
</html>
