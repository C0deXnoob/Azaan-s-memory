<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Azaan‚Äôs Album Viewer</title>
  <style>
    :root{
      --pink:#ff80a1; --pink-2:#ffb6c1; --sky:#6ec6ff; --sky-2:#4daae0; --sun:#ffd966; --sun-2:#ffb84d;
      --shadow:0 6px 15px rgba(0,0,0,.15);
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:"Comic Sans MS","Poppins",system-ui,Segoe UI,Arial,Helvetica,sans-serif;
      background:linear-gradient(135deg,#ffe6f0,#e6f7ff); color:#444; display:flex; flex-direction:column; align-items:center; overflow-x:hidden;
    }
    header{width:100%; padding:20px; text-align:center; background:var(--pink-2); color:#fff; font-size:2rem; font-weight:800; border-bottom:5px solid var(--pink); box-shadow:0 4px 10px rgba(0,0,0,.1)}

    /* Year slider */
    .year-slider{display:flex; gap:10px; overflow-x:auto; padding:14px; width:100%; background:#fff; border-bottom:3px solid var(--pink)}
    .year-slider::-webkit-scrollbar{height:0px}
    .year-slider::-webkit-scrollbar-thumb{background:var(--pink); border-radius:10px}
    .year{min-width:140px; background:var(--sky); color:#fff; padding:12px; text-align:center; border-radius:16px; font-weight:800; cursor:pointer; transition:.25s; box-shadow:var(--shadow)}
    .year:hover{background:var(--sky-2); transform:scale(1.05)}
    .year.active{background:var(--pink)}

    /* Month grid */
    .wrap{width:100%; max-width:1100px; padding:18px}
    .months{display:grid; grid-template-columns:repeat(auto-fit,minmax(120px,1fr)); gap:14px}
    .month{background:var(--sun); border:none; border-radius:16px; padding:14px; font-weight:800; text-align:center; cursor:pointer; box-shadow:var(--shadow); transition:.2s}
    .month:hover{transform:scale(1.04); background:var(--sun-2)}
    .month.disabled{opacity:.5; cursor:not-allowed; text-decoration:line-through}

    /* Viewer */
    .viewer-bar{display:flex; align-items:center; justify-content:space-between; gap:10px; margin:10px 0}
    .btn{display:inline-block; padding:10px 16px; border-radius:22px; background:var(--sky); color:#fff; font-weight:700; text-decoration:none; box-shadow:var(--shadow); border:none; cursor:pointer}
    .btn:hover{background:var(--sky-2)}

    .iframe-wrap{position:relative; width:100%}
    iframe{width:100%; height:70vh; border:5px dashed var(--pink); border-radius:20px; background:#fff; box-shadow:var(--shadow)}
    .spinner{position:absolute; inset:0; display:none; align-items:center; justify-content:center; backdrop-filter:blur(2px); margin-left: 0px;}
    .spinner.show{display:flex}
    .spinner .dot{width:14px; height:14px; margin:6px; border-radius:50%; background:var(--pink); animation:bounce .9s infinite alternate}
    .spinner .dot:nth-child(2){background:var(--sky); animation-delay:.15s}
    .spinner .dot:nth-child(3){background:var(--sun); animation-delay:.3s}
    @keyframes bounce{to{transform:translateY(-12px)}}

    footer{margin:18px; color:#888}

    /* Cute floating shapes */
    .shape{position:fixed; border-radius:50%; opacity:.3; animation:float 8s infinite ease-in-out; pointer-events:none}
    .circle1{width:100px;height:100px;top:10%;left:0%;background:var(--pink)}
    .circle2{width:80px;height:80px;bottom:15%;right:10%;background:var(--sky)}
    .circle3{width:60px;height:60px;top:60%;left:20%;background:var(--sun)}
    @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}

    @media (max-width:560px){ .year{min-width:120px} .month{padding:12px} }
  </style>
</head>
<body>
  <header>üì∏ Azaan‚Äôs Memory Album üåà</header>

  <!-- Year Slider (2025 ‚Üí 2042 = 18 years) -->
  <div class="year-slider" id="yearSlider"></div>

  <div class="wrap">
    <!-- Months Grid -->
    <div class="months" id="months"></div>

    <!-- Viewer Controls -->
    <div class="viewer-bar">
      <div>üóÇÔ∏è <strong id="crumb">Pick a year & month</strong></div>
      <a id="openInDrive" class="btn" href="#" target="_blank" rel="noopener">Open in Drive ‚Üó</a>
    </div>

    <!-- Viewer -->
    <div class="iframe-wrap">
      <div class="spinner" id="spinner" aria-hidden="true"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div>
      <iframe id="viewer" title="Google Drive Folder Preview"></iframe>
    </div>
  </div>

  <footer>Made with ‚ù§Ô∏è for Azaan</footer>

  <!-- Floating cute shapes -->
  <div class="shape circle1"></div>
  <div class="shape circle2"></div>
  <div class="shape circle3"></div>

  <script>
    // ====== SETTINGS ======
    const START_YEAR = 2025;
    const YEARS_COUNT = 18; // 2025 ‚Üí 2042 inclusive
    const MONTHS = ["January","February","March","April","May","June","July","August","September","October","November","December"];

    // Paste your folder LINKS or IDs here.
    // You can put either a full URL like
    //   https://drive.google.com/drive/folders/1AbCdEfGh... 
    // OR just the raw ID like
    //   1AbCdEfGh...
    // Tip: Make sure each folder is shared as "Anyone with the link ‚Äì Viewer"
    const driveFolders = {
      2025: {
        // Only Aug ‚Üí Dec should be selectable for 2025
        "August":   "https://drive.google.com/embeddedfolderview?id=1vmzdhhb7g8wjpJ17khcH4racnfNgVj1r&usp=drive_copy#grid",
        "September":"FOLDER_ID_OR_LINK_FOR_SEP_2025",
        "October":  "FOLDER_ID_OR_LINK_FOR_OCT_2025",
        "November": "FOLDER_ID_OR_LINK_FOR_NOV_2025",
        "December": "FOLDER_ID_OR_LINK_FOR_DEC_2025"
      },
      2026: {
        // "January":  "FOLDER_ID_OR_LINK_FOR_JAN_2026",
        // "February": "FOLDER_ID_OR_LINK_FOR_FEB_2026",
        // "March":    "FOLDER_ID_OR_LINK_FOR_MAR_2026",
        // "April":    "FOLDER_ID_OR_LINK_FOR_APR_2026",
        // "May":      "FOLDER_ID_OR_LINK_FOR_MAY_2026",
        // "June":     "FOLDER_ID_OR_LINK_FOR_JUN_2026",
        // "July":     "FOLDER_ID_OR_LINK_FOR_JUL_2026",
        // "August":   "FOLDER_ID_OR_LINK_FOR_AUG_2026",
        // "September":"FOLDER_ID_OR_LINK_FOR_SEP_2026",
        // "October":  "FOLDER_ID_OR_LINK_FOR_OCT_2026"
      }
      // Add more years up to 2042 as needed
    };

    // ====== UTIL ======
    function parseDriveId(linkOrId){
      if(!linkOrId) return null;
      // If they pasted a full link, extract the 25+ char id. Also covers file/folder forms.
      const m = String(linkOrId).match(/[\w-]{25,}/);
      return m ? m[0] : null;
    }

    function embedUrlForFolder(id){
      return `https://drive.google.com/embeddedfolderview?id=${id}#grid`;
    }

    function driveFolderLink(id){
      return `https://drive.google.com/drive/folders/${id}`;
    }

    function showSpinner(on){
      document.getElementById('spinner').classList.toggle('show', !!on);
    }

    // ====== BUILD UI ======
    const yearSlider = document.getElementById('yearSlider');
    const monthsEl = document.getElementById('months');
    const viewer = document.getElementById('viewer');
    const crumb = document.getElementById('crumb');
    const openInDrive = document.getElementById('openInDrive');

    // Year buttons
    for(let i=0;i<YEARS_COUNT;i++){
      const year = START_YEAR + i; // 2025..2042
      const btn = document.createElement('div');
      btn.className = 'year';
      btn.textContent = `Azaan‚Äôs ${year}`;
      btn.addEventListener('click',()=>selectYear(year, btn));
      yearSlider.appendChild(btn);
    }

    function selectYear(year, el){
      document.querySelectorAll('.year').forEach(x=>x.classList.remove('active'));
      el.classList.add('active');
      buildMonths(year);
    }

    function buildMonths(year){
      monthsEl.innerHTML = '';
      // For 2025 show only Aug‚ÄìDec
      const list = (year === 2025) ? MONTHS.slice(7) : MONTHS; // 7=Aug index
      list.forEach(m => {
        const has = !!(driveFolders[year] && driveFolders[year][m]);
        const b = document.createElement('button');
        b.className = 'month' + (has ? '' : ' disabled');
        b.textContent = m;
        b.title = has ? `Open ${m} ${year}` : `No folder set for ${m} ${year}`;
        b.disabled = !has;
        b.addEventListener('click',()=>loadFolder(year,m));
        monthsEl.appendChild(b);
      });
    }

    function loadFolder(year, month){
      const raw = driveFolders[year] && driveFolders[year][month];
      const id = parseDriveId(raw);
      if(!id){
        alert(`‚ö†Ô∏è Folder link/ID missing or invalid for ${month} ${year}.`);
        return;
      }
      crumb.textContent = `${year} ‚Ä∫ ${month}`;
      openInDrive.href = driveFolderLink(id);
      showSpinner(true);
      viewer.src = embedUrlForFolder(id);
    }

    // Hide spinner once iframe changes page (best-effort)
    viewer.addEventListener('load', ()=> showSpinner(false));

    // Optional: auto-select the first year on load
    window.addEventListener('DOMContentLoaded',()=>{
      const firstYearBtn = document.querySelector('.year');
      if(firstYearBtn) firstYearBtn.click();
    });
  </script>
</body>
</html>
